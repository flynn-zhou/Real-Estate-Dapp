"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[39908,12716,38430],{73851:function(e,t,n){n.d(t,{uH:function(){return o}});var s=n(26182);let i=[],r=[{type:"uint8"}];async function o(e){return(0,s.readContract)({contract:e.contract,method:["0x313ce567",i,r],params:[]})}},12716:function(e,t,n){n.d(t,{decimals:function(){return r}});var s=n(71786),i=n(73851);async function r(e){return(0,s.D)(()=>(0,i.uH)(e),{cacheKey:`${e.contract.chain.id}:${e.contract.address}:decimals`,cacheTime:Number.POSITIVE_INFINITY})}},38430:function(e,t,n){n.d(t,{getCurrencyMetadata:function(){return p}});var s=n(60301),i=n(71786),r=n(26182);let o=[],a=[{type:"string"}];async function c(e){return(0,r.readContract)({contract:e.contract,method:["0x06fdde03",o,a],params:[]})}async function l(e){return(0,i.D)(()=>c(e),{cacheKey:`${e.contract.chain.id}:${e.contract.address}:name`,cacheTime:Number.POSITIVE_INFINITY})}let d=[],u=[{type:"string"}];async function x(e){return(0,r.readContract)({contract:e.contract,method:["0x95d89b41",d,u],params:[]})}async function h(e){return(0,i.D)(()=>x(e),{cacheKey:`${e.contract.chain.id}:${e.contract.address}:symbol`,cacheTime:Number.POSITIVE_INFINITY})}var m=n(73851);async function p(e){if((0,s.qw)(e.contract.address))return{name:"Ether",symbol:"ETH",decimals:18,...e.contract.chain.nativeCurrency};try{let[t,n,s]=await Promise.all([l(e).catch(()=>""),h(e),(0,m.uH)(e)]);return{name:t,symbol:n,decimals:s}}catch{throw Error("Invalid currency token")}}},39908:function(e,t,n){n.r(t),n.d(t,{default:function(){return tl}});var s=n(85893),i=n(62469),r=n(67294),o=n(60301),a=n(4159);function c(e){let t=e.toToken.chainId===e.onRampToken.token.chainId,n=(0,a.Kn)(e.toToken.tokenAddress)===(0,a.Kn)(e.onRampToken.token.tokenAddress);return!(t&&n)}var l=n(77560),d=n(68817),u=n(73257),x=n(88144),h=n(64735),m=n(99910),p=n(22278);async function y(e){try{let t=(0,m.NX)(e.client),n=await t((0,p.EW)(),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({toAddress:e.toAddress,fromCurrencySymbol:e.fromCurrencySymbol,toChainId:e.toChainId.toString(),toTokenAddress:e.toTokenAddress,fromAmount:e.fromAmount,toAmount:e.toAmount,maxSlippageBPS:e.maxSlippageBPS,isTestMode:e.isTestMode,purchaseData:e.purchaseData,fromAddress:e.fromAddress,toGasAmountWei:e.toGasAmountWei})});if(!n.ok){let e=await n.json();if(e&&"error"in e)throw e;throw Error(`HTTP error! status: ${n.status}`)}return(await n.json()).result}catch(e){throw console.error("Error getting buy with fiat quote",e),e}}var f=n(31330),j=n(477),g=n(36176),b=n(82924),w=n(51964),k=n(8985),C=n(44581),W=n(4933),A=n(60680),S=n(20070),v=n(69538);let T=(0,r.forwardRef)(function(e,t){return(0,s.jsx)(E,{ref:t,children:(0,s.jsx)(W.H,{children:(0,s.jsxs)(S.W2,{p:"lg",children:[(0,s.jsx)(A.d,{children:(0,s.jsx)(v.hU,{type:"button","aria-label":"Close",onClick:e.close,children:(0,s.jsx)(i.Pxu,{width:d.EA.md,height:d.EA.md,style:{color:"inherit"}})})}),e.children]})})})}),E=(0,C.lx)(e=>{let t=(0,w.v$)();return{zIndex:1e4,borderTopLeftRadius:d.q0.xl,borderTopRightRadius:d.q0.xl,background:t.colors.modalBg,position:"absolute",bottom:0,left:0,right:0,animation:`${L} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.1)`,borderTop:`1px solid ${t.colors.borderColor}`}}),L=(0,b.F4)`
  from {
    opacity: 0;
    transform: translateY(100px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
`,z=(0,C.lx)(e=>({backgroundColor:(0,w.v$)().colors.modalOverlayBg,zIndex:9999,position:"absolute",inset:0,animation:`${k.BX} 400ms cubic-bezier(0.16, 1, 0.3, 1)`}));function B(){let[e,t]=(0,r.useState)(!1),n=(0,r.useRef)(null),s=(0,r.useRef)(null),i=(0,r.useCallback)(()=>new Promise(e=>{if(n.current){let t={easing:"cubic-bezier(0.175, 0.885, 0.32, 1.1)",fill:"forwards",duration:300},i=n.current.animate([{transform:"translateY(100%)",opacity:0}],t);s.current?.animate([{opacity:0}],t),i.onfinish=()=>e()}else e()}),[]),o=(0,r.useCallback)(async e=>{e?t(!0):(await i(),t(!1))},[i]);return(0,r.useLayoutEffect)(()=>{if(!e)return;let t=e=>{n.current&&e.target instanceof Node&&!n.current.contains(e.target)&&o(!1)};return requestAnimationFrame(()=>{document.addEventListener("click",t)}),()=>{document.removeEventListener("click",t)}},[e,o]),{drawerRef:n,drawerOverlayRef:s,setIsOpen:o,isOpen:e}}var I=n(57654),O=n(67544),M=n(31143),R=n(15794),F=n(26617),q=n(518),N=n(25908),D=n(48754),P=n(80449),_=n(82742),U=n(91422),$=n(57621),H=n(12716),K=n(98189),V=n(91650),G=n(65258),Y=n(4527),Q=n(35107),J=n(14514),Z=n(32724),X=n(50480);function ee(e){let{payUiOptions:t,supportedDestinations:n,client:i,onContinue:r,payerAccount:c}=e,u=(0,w.v$)(),h=(0,G.r)(),m=t.metadata,p=t.paymentInfo,{data:y}=(0,V.SG)(p.chain),{data:f}=(0,Y.F6)({client:i,address:p.sellerAddress}),g=(0,x.a)({queryKey:["amount",p],queryFn:async()=>{let e=18;return p.token&&!(0,U.M)(p.token)&&(e=await (0,H.decimals)({contract:(0,$.u)({address:p.token.address,chain:p.chain,client:i})})),"amountWei"in p?(0,K.bb)(p.amountWei,e):p.amount}}).data;if(!y||void 0===g)return(0,s.jsx)(j.a,{});let b=p.token?{...p.token,icon:p.token?.icon||n.find(e=>e.chain.id===p.chain.id)?.tokens.find(e=>e.address.toLowerCase()===p.token?.address.toLowerCase())?.icon}:{address:o.K8,name:y.nativeCurrency.name,symbol:y.nativeCurrency.symbol,icon:y.icon?.url};return(0,s.jsxs)(S.W2,{p:"lg",children:[(0,s.jsx)(S.xB,{title:m?.name||"Payment Details"}),(0,s.jsx)(I.L,{y:"lg"}),(0,s.jsxs)(S.W2,{children:[m?.image?(0,s.jsx)(J.E,{client:i,src:m?.image,style:{width:"100%",borderRadius:d.W0.md,backgroundColor:u.colors.tertiaryBg}}):h?(0,s.jsxs)(S.W2,{flex:"row",center:"both",style:{padding:d.W0.md,marginBottom:d.W0.md,borderRadius:d.W0.md,backgroundColor:u.colors.tertiaryBg},children:[(0,s.jsx)(X._,{size:d.EA.xl,id:h.id,client:i}),(0,s.jsx)("div",{style:{flexGrow:1,borderBottom:"6px dotted",borderColor:u.colors.secondaryIconColor,marginLeft:d.W0.md,marginRight:d.W0.md}}),(0,s.jsx)(Q.f,{client:i,size:d.EA.xl,chainIconUrl:y.icon?.url})]}):null,(0,s.jsx)(I.L,{y:"md"}),(0,s.jsxs)(S.W2,{flex:"row",children:[(0,s.jsx)(S.W2,{flex:"column",expand:!0,children:(0,s.jsx)(R.x,{size:"md",color:"primaryText",weight:700,children:"Price"})}),(0,s.jsx)(S.W2,{expand:!0,children:(0,s.jsxs)(S.W2,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:[(0,s.jsx)(Z.T,{chain:p.chain,client:e.client,size:"sm",token:b}),(0,s.jsxs)(R.x,{color:"primaryText",size:"md",weight:700,children:[String((0,l.u)(Number(g),6))," ",b.symbol]})]})})]}),(0,s.jsx)(I.L,{y:"md"}),(0,s.jsx)(S.x1,{}),(0,s.jsx)(I.L,{y:"md"}),(0,s.jsxs)(S.W2,{flex:"row",children:[(0,s.jsx)(S.W2,{flex:"column",expand:!0,children:(0,s.jsx)(R.x,{size:"xs",color:"secondaryText",children:"Network"})}),(0,s.jsx)(S.W2,{expand:!0,children:(0,s.jsxs)(S.W2,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:[(0,s.jsx)(Q.f,{chainIconUrl:y.icon?.url,size:"xs",client:e.client}),(0,s.jsx)(R.x,{size:"xs",color:"secondaryText",style:{textAlign:"right"},children:y.name})]})})]}),(0,s.jsx)(I.L,{y:"sm"}),(0,s.jsxs)(S.W2,{flex:"row",children:[(0,s.jsx)(S.W2,{flex:"column",expand:!0,children:(0,s.jsx)(R.x,{size:"xs",color:"secondaryText",children:"Seller"})}),(0,s.jsx)(S.W2,{expand:!0,children:(0,s.jsx)(S.W2,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:(0,s.jsx)(R.x,{size:"xs",color:"secondaryText",style:{textAlign:"right"},children:f||(0,a.Xn)(p.sellerAddress)})})})]})]}),(0,s.jsx)(I.L,{y:"xl"}),c?(0,s.jsx)(v.zx,{variant:"accent",fullWidth:!0,onClick:()=>{r(g,p.chain,b)},children:"Choose Payment Method"}):(0,s.jsx)("div",{children:(0,s.jsx)(q.N,{...e.connectOptions,client:i,theme:u,connectButton:{style:{width:"100%"}}})})]})}var et=n(86875),en=n(37417);function es(e){let{estimatedSeconds:t,quoteIsLoading:n}=e;return(0,s.jsxs)(S.W2,{bg:"tertiaryBg",flex:"row",borderColor:"borderColor",style:{borderRadius:d.q0.md,borderTopLeftRadius:0,borderTopRightRadius:0,justifyContent:"space-between",alignItems:"center",borderWidth:"1px",borderStyle:"solid"},children:[(0,s.jsxs)(S.W2,{flex:"row",center:"y",gap:"xxs",color:"accentText",p:"sm",children:[(0,s.jsx)(i.T39,{width:d.EA.sm,height:d.EA.sm}),n?(0,s.jsx)(et.O,{height:d.JB.xs,width:"50px",color:"borderColor"}):(0,s.jsx)(R.x,{size:"xs",color:"secondaryText",children:void 0!==t?`~${(0,en.Z)(t)}`:"--"})]}),(0,s.jsxs)(v.zx,{variant:"ghost",onClick:e.onViewFees,gap:"xs",children:[(0,s.jsx)(S.W2,{color:"accentText",flex:"row",center:"both",children:(0,s.jsx)(ei,{size:d.EA.sm})}),(0,s.jsx)(R.x,{size:"xs",color:"secondaryText",children:"View Fees"})]})]})}let ei=e=>(0,s.jsxs)("svg",{width:e.size,height:e.size,viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[(0,s.jsx)("path",{d:"M9.5 1.5H2.5C1.94772 1.5 1.5 1.94772 1.5 2.5V9.5C1.5 10.0523 1.94772 10.5 2.5 10.5H9.5C10.0523 10.5 10.5 10.0523 10.5 9.5V2.5C10.5 1.94772 10.0523 1.5 9.5 1.5Z",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"}),(0,s.jsx)("path",{d:"M4.5 7.5L7.5 4.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"})]});var er=n(93398),eo=n(43191);function ea(e){return(0,s.jsxs)(S.W2,{bg:"tertiaryBg",borderColor:"borderColor",flex:"row",style:{borderRadius:d.q0.md,borderBottomRightRadius:0,borderBottomLeftRadius:0,borderWidth:"1px",borderStyle:"solid",borderBottom:"none",flexWrap:"nowrap",justifyContent:"space-between",alignItems:"center"},children:[(0,s.jsxs)(ec,{variant:"ghost",onClick:e.onSelectCurrency,style:{minHeight:"64px",justifyContent:"flex-start",minWidth:"50%"},gap:"sm",children:[(0,s.jsx)(e.currency.icon,{size:d.EA.md}),(0,s.jsxs)(S.W2,{flex:"row",center:"y",gap:"xxs",color:"secondaryText",children:[(0,s.jsx)(R.x,{color:"primaryText",children:e.currency.shorthand}),(0,s.jsx)(i.v4q,{width:d.EA.sm,height:d.EA.sm})]})]}),(0,s.jsx)("div",{style:{flexGrow:1,flexShrink:1,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:d.W0.xxs,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",justifyContent:"center",paddingRight:d.W0.sm},children:e.isLoading?(0,s.jsx)(et.O,{width:"100px",height:d.JB.lg}):(0,s.jsx)(R.x,{size:"lg",color:e.value?"primaryText":"secondaryText",children:e.value?`${(0,l.u)(Number(e.value),6)}`:"--"})})]})}let ec=(0,eo.Z)(v.zx)(()=>({"&[disabled]:hover":{borderColor:"transparent"}}));var el=n(95810),ed=n(38430),eu=n(33910),ex=n(11692);let eh=(0,el.ax)({id:84532,name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}],testnet:!0}),em=(0,el.ax)({id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}]}),ep=(0,el.ax)({id:11155420,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}],testnet:!0}),ey=(0,el.ax)({id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},blockExplorers:[{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io"}]}),ef=(0,el.ax)({id:999999999,name:"Zora Sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},blockExplorers:[{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/",apiUrl:"https://sepolia.explorer.zora.energy/api"}],testnet:!0}),ej=(0,el.ax)({id:7777777,name:"Zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},blockExplorers:[{name:"Explorer",url:"https://explorer.zora.energy",apiUrl:"https://explorer.zora.energy/api"}]}),eg=[em.id,eh.id,ey.id,ep.id,ej.id,ef.id,34443,919,42220,44787,204,5611];var eb=n(83159),ew=n(49302);async function ek(e){var t;let s;let{transaction:i}=e,r=e.from??e.account?.address??void 0,o=await (0,eb.q)(i.gas)||await (0,ew.Q)({transaction:i,from:r}),a=await (0,eu.o)({client:i.client,chain:i.chain});if(t=i.chain,eg.includes(t.id)){let{estimateL1Fee:e}=await n.e(33156).then(n.bind(n,33156));s=await e({transaction:i})}else s=0n;let c=o*a+s;return{ether:(0,K.n9)(c),wei:c}}var eC=n(88264);async function eW(e,t){try{let n=await ek({transaction:e,from:t}),s=n.wei/10n;return n.wei+s}catch{if(t)return await eW(e);return 2000000n*await (0,eu.o)({client:e.client,chain:e.chain})}}function eA(e){let{payUiOptions:t,client:n,payerAccount:i,supportedDestinations:a,onContinue:c}=e,{data:u}=(0,V.SG)(t.transaction.chain),h=t.metadata,{data:m}=function(e){let{transaction:t,account:n,supportedDestinations:s}=e,[i,a]=(0,r.useState)();return(0,r.useEffect)(()=>{Promise.all([(0,eb.q)(t.value),(0,eb.q)(t.erc20Value),(0,eb.q)(t.to),(0,ex.encode)(t)]).then(([e,t,n,s])=>{a({value:e?.toString(),erc20Value:t?.amountWei?.toString(),erc20Currency:t?.tokenAddress,to:n,data:s})})},[t]),(0,x.a)({queryKey:["transaction-cost",t.chain.id,n?.address,i],queryFn:async()=>{if(!n)throw Error("No account");let e=await (0,eb.q)(t.erc20Value);if(e){let[i,r,o]=await Promise.all([(0,eC.p)({address:n.address,chain:t.chain,client:t.client,tokenAddress:e.tokenAddress}),(0,ed.getCurrencyMetadata)({contract:(0,$.u)({address:e.tokenAddress,chain:t.chain,client:t.client})}),eW(t,n?.address)]),a=e.amountWei;return{token:{address:e.tokenAddress,name:r.name,symbol:r.symbol,icon:s.find(e=>e.chain.id===t.chain.id)?.tokens.find(t=>t.address.toLowerCase()===e.tokenAddress.toLowerCase())?.icon},decimals:r.decimals,walletBalance:i,gasCostWei:o,transactionValueWei:a}}let[i,r,a]=await Promise.all([(0,eC.p)({address:n.address,chain:t.chain,client:t.client}),(0,el.ZN)(t.chain),eW(t,n?.address)]),c=await (0,eb.q)(t.value)||0n;return{token:{address:o.K8,name:r.nativeCurrency.name,symbol:r.nativeCurrency.symbol,icon:r.icon?.url},decimals:18,walletBalance:i,gasCostWei:a,transactionValueWei:c}},enabled:!!t&&!!n&&!!i,refetchInterval:()=>{if(!t.erc20Value)return 3e4}})}({transaction:t.transaction,account:i,supportedDestinations:a}),p=(0,w.v$)(),y=(0,G.r)(),f=(0,Y.GS)(y);return m&&u?(0,s.jsxs)(S.W2,{p:"lg",children:[(0,s.jsx)(S.xB,{title:h?.name||"Transaction"}),(0,s.jsx)(I.L,{y:"lg"}),(0,s.jsxs)(S.W2,{children:[h?.image?(0,s.jsx)(J.E,{client:n,src:h?.image,style:{width:"100%",borderRadius:d.W0.md,backgroundColor:p.colors.tertiaryBg}}):y?(0,s.jsxs)(S.W2,{flex:"row",center:"both",style:{padding:d.W0.md,marginBottom:d.W0.md,borderRadius:d.W0.md,backgroundColor:p.colors.tertiaryBg},children:[(0,s.jsx)(X._,{size:d.EA.xl,id:y.id,client:n}),(0,s.jsx)("div",{style:{flexGrow:1,borderBottom:"6px dotted",borderColor:p.colors.secondaryIconColor,marginLeft:d.W0.md,marginRight:d.W0.md}}),(0,s.jsx)(Q.f,{client:n,size:d.EA.xl,chainIconUrl:u.icon?.url})]}):null,(0,s.jsx)(I.L,{y:"md"}),(0,s.jsxs)(S.W2,{flex:"row",children:[(0,s.jsx)(S.W2,{flex:"column",expand:!0,children:(0,s.jsx)(R.x,{size:"md",color:"primaryText",weight:700,children:"Price"})}),(0,s.jsx)(S.W2,{expand:!0,children:(0,s.jsxs)(S.W2,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:[(0,s.jsx)(Z.T,{chain:t.transaction.chain,client:e.client,size:"sm",token:m.token}),(0,s.jsxs)(R.x,{color:"primaryText",size:"md",weight:700,children:[String((0,l.u)(Number((0,K.bb)(m.transactionValueWei,m.decimals)),6))," ",m.token.symbol]})]})})]}),(0,s.jsx)(I.L,{y:"md"}),(0,s.jsx)(S.x1,{}),(0,s.jsx)(I.L,{y:"md"}),(0,s.jsxs)(S.W2,{flex:"row",children:[(0,s.jsx)(S.W2,{flex:"column",expand:!0,children:(0,s.jsx)(R.x,{size:"xs",color:"secondaryText",children:"Gas Fees"})}),(0,s.jsx)(S.W2,{expand:!0,children:(0,s.jsx)(S.W2,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:(0,s.jsx)(R.x,{color:f?"success":"primaryText",size:"xs",children:f?"Sponsored":`${String((0,l.u)(Number((0,K.bb)(m.gasCostWei,u.nativeCurrency.decimals)),6))} ${u.nativeCurrency.symbol}`})})})]}),(0,s.jsx)(I.L,{y:"sm"}),(0,s.jsxs)(S.W2,{flex:"row",children:[(0,s.jsx)(S.W2,{flex:"column",expand:!0,children:(0,s.jsx)(R.x,{size:"xs",color:"secondaryText",children:"Network"})}),(0,s.jsx)(S.W2,{expand:!0,children:(0,s.jsxs)(S.W2,{flex:"row",gap:"xs",center:"y",style:{justifyContent:"right"},children:[(0,s.jsx)(Q.f,{chainIconUrl:u.icon?.url,size:"xs",client:e.client}),(0,s.jsx)(R.x,{size:"xs",color:"secondaryText",style:{textAlign:"right"},children:u.name})]})})]})]}),(0,s.jsx)(I.L,{y:"xl"}),i?(0,s.jsx)(v.zx,{variant:"accent",fullWidth:!0,onClick:()=>{let e=m.transactionValueWei;m.token.address!==o.K8||f||(e+=m.gasCostWei),c((0,K.bb)(e,m.decimals),t.transaction.chain,m.token)},children:"Choose Payment Method"}):(0,s.jsx)("div",{children:(0,s.jsx)(q.N,{...e.connectOptions,client:n,theme:p,connectButton:{style:{width:"100%"}}})})]}):(0,s.jsx)(j.a,{})}var eS=n(84730);function ev(e){let t=(0,w.v$)();return(0,s.jsx)(S.W2,{bg:"tertiaryBg",style:{borderRadius:d.q0.lg,border:`1px solid ${t.colors.borderColor}`,...e.containerStyle},children:(0,s.jsxs)(v.zx,{fullWidth:!0,disabled:e.disabled,onClick:e.onClick,variant:"ghost",style:{justifyContent:"space-between",padding:d.W0.sm,backgroundColor:t.colors.tertiaryBg},gap:"sm",children:[(0,s.jsx)(eT,{client:e.client,address:e.address}),!e.disableChevron&&(0,s.jsx)(i.v4q,{width:d.EA.sm,height:d.EA.sm,style:{color:t.colors.secondaryText}}),e.checked&&(0,s.jsx)(i.nQG,{width:d.EA.md,height:d.EA.md})]})})}function eT(e){let{client:t,address:n}=e,i=(0,eS.f)().find(t=>t.getAccount()?.address===e.address),r=e.walletId||i?.id,o=(0,Y.F6)({client:t,address:n}),c=o.data||(0,a.Xn)(n),l=(0,Y.c9)({client:t,ensName:o.data});return(0,s.jsxs)(S.W2,{flex:"row",center:"y",gap:"sm",color:"secondaryText",children:[l.data?(0,s.jsx)(J.E,{src:l.data,width:d.EA.md,height:d.EA.md,style:{borderRadius:d.q0.sm},client:e.client}):r?(0,s.jsx)(X._,{id:r,size:d.EA.md,client:e.client}):null,(0,s.jsx)(R.x,{size:"sm",color:"primaryText",children:c||(0,a.Xn)(e.address)})]})}var eE=n(80156);function eL(e){return(0,s.jsxs)(S.W2,{children:[(0,s.jsx)(S.W2,{p:"lg",children:(0,s.jsx)(S.xB,{title:"Pay with",onBack:e.onBack})}),(0,s.jsx)(S.x1,{}),(0,s.jsx)(I.L,{y:"lg"}),(0,s.jsx)(S.W2,{flex:"column",gap:"xs",px:"lg",children:eE.QT.map(t=>(0,s.jsxs)(ez,{fullWidth:!0,variant:"secondary",onClick:()=>e.onSelect(t),gap:"sm",children:[(0,s.jsx)(t.icon,{size:d.EA.lg}),(0,s.jsxs)(S.W2,{flex:"column",gap:"xxs",children:[(0,s.jsx)(R.x,{color:"primaryText",children:t.shorthand}),(0,s.jsx)(R.x,{size:"sm",children:t.name})]})]},t.shorthand))}),(0,s.jsx)(I.L,{y:"lg"})]})}let ez=(0,eo.Z)(v.zx)(()=>{let e=(0,w.v$)();return{background:e.colors.tertiaryBg,justifyContent:"flex-start",gap:d.W0.sm,padding:d.W0.sm,"&:hover":{background:e.colors.secondaryButtonBg,transform:"scale(1.01)"},transition:"background 200ms ease, transform 150ms ease"}});var eB=n(5403);function eI(e,t){let n=(window.innerHeight-750)/2,s=(window.innerWidth-500)/2;return window.open(`${e}&theme=${t}`,"thirdweb Pay",`width=500, height=750, top=${n}, left=${s}`)}var eO=n(52891),eM=n(30202),eR=n(66229),eF=n(9430),eq=n(10378),eN=n(81011),eD=n(54405),eP=n(19305),e_=n(71307);function eU(e){let t=(0,eM.NL)(),{openedWindow:n,onSuccess:i}=e,o=(0,eF.s)({intentId:e.intentId,client:e.client}),a="loading";o.data?.status==="ON_RAMP_TRANSFER_FAILED"||o.data?.status==="PAYMENT_FAILED"?a="failed":o.data?.status==="CRYPTO_SWAP_FALLBACK"?a="partialSuccess":o.data?.status==="ON_RAMP_TRANSFER_COMPLETED"&&(a="completed");let c=(0,r.useRef)(!1);(0,r.useEffect)(()=>{!c.current&&i&&o.data?.status==="ON_RAMP_TRANSFER_COMPLETED"&&(c.current=!0,i(o.data))},[i,o.data]),(0,r.useEffect)(()=>{n&&o.data&&(o.data?.status==="CRYPTO_SWAP_REQUIRED"||o.data?.status==="ON_RAMP_TRANSFER_COMPLETED")&&n.close()},[o.data,n]);let l=(0,r.useRef)(!1);return(0,r.useEffect)(()=>{l.current||o.data?.status!=="ON_RAMP_TRANSFER_COMPLETED"||(l.current=!0,(0,eq.K)(t))},[o.data,t]),(0,r.useEffect)(()=>{o.data?.status==="CRYPTO_SWAP_REQUIRED"&&e.onShowSwapFlow(o.data)},[o.data,e.onShowSwapFlow]),(0,s.jsxs)(S.W2,{p:"lg",children:[(0,s.jsx)(S.xB,{title:e.title,onBack:e.onBack}),e.hasTwoSteps&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.L,{y:"lg"}),(0,s.jsx)(eN.E,{steps:2,currentStep:1}),(0,s.jsx)(I.L,{y:"sm"}),(0,s.jsxs)(R.x,{size:"xs",children:["Step 1 of 2 - Buying ",e.quote.onRampToken.token.symbol," with"," ",e.quote.fromCurrencyWithFees.currencySymbol]})]}),(0,s.jsx)(e$,{uiStatus:a,onDone:e.onDone,fiatStatus:o.data,client:e.client,transactionMode:e.transactionMode,quote:e.quote,isEmbed:e.isEmbed})]})}function e$(e){let{uiStatus:t}=e,n=e.fiatStatus?(0,eP.B)(e.fiatStatus):void 0,r=e.fiatStatus&&"NOT_FOUND"!==e.fiatStatus.status?e.fiatStatus:void 0,o=e.quote.onRampToken,a=(0,s.jsx)(e_.s,{client:e.client,token:r?.source?{chainId:r.source.token.chainId,address:r.source.token.tokenAddress,symbol:r.source.token.symbol||"",amount:r.source.amount}:{chainId:o.token.chainId,address:o.token.tokenAddress,symbol:o.token.symbol,amount:o.amount},fiat:{amount:e.quote.fromCurrencyWithFees.amount,currencySymbol:e.quote.fromCurrencyWithFees.currencySymbol},statusMeta:r?.source&&n?{color:n?.color,text:n?.status,txHash:r.source.transactionHash}:void 0});return(0,s.jsxs)(S.W2,{children:[(0,s.jsx)(I.L,{y:"xl"}),"loading"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.L,{y:"md"}),(0,s.jsx)(S.W2,{flex:"row",center:"x",children:(0,s.jsx)(O.$,{size:"xxl",color:"accentText"})}),(0,s.jsx)(I.L,{y:"md"}),(0,s.jsx)(R.x,{color:"primaryText",size:"lg",center:!0,children:"Buy Pending"}),(0,s.jsx)(I.L,{y:"sm"}),!(0,eR.tq)()&&(0,s.jsx)(R.x,{center:!0,children:"Complete the purchase in popup"}),(0,s.jsx)(I.L,{y:"xxl"}),a]}),"failed"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.L,{y:"md"}),(0,s.jsx)(S.W2,{flex:"row",center:"x",children:(0,s.jsx)(eD.E,{size:d.EA["3xl"]})}),(0,s.jsx)(I.L,{y:"lg"}),(0,s.jsx)(R.x,{color:"primaryText",size:"lg",center:!0,children:"Transaction Failed"}),(0,s.jsx)(I.L,{y:"xxl"}),a]}),"completed"===t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.L,{y:"md"}),(0,s.jsx)(S.W2,{flex:"row",center:"x",color:"success",children:(0,s.jsx)(i.NhS,{width:d.EA["3xl"],height:d.EA["3xl"]})}),(0,s.jsx)(I.L,{y:"md"}),(0,s.jsx)(R.x,{color:"primaryText",size:"lg",center:!0,children:"Buy Complete"}),e.fiatStatus&&"NOT_FOUND"!==e.fiatStatus.status&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.L,{y:"xxl"}),a,(0,s.jsx)(I.L,{y:"sm"})]}),!e.isEmbed&&(0,s.jsx)(v.zx,{variant:"accent",fullWidth:!0,onClick:e.onDone,children:e.transactionMode?"Continue Transaction":"Done"})]})]})}var eH=n(59545),eK=n(48401);function eV(e){let t=c(e.quote),[n,i]=(0,r.useState)(t?{id:"step-1"}:{id:"onramp-status"}),[o,a]=(0,r.useState)(e.openedWindow),l=(0,r.useCallback)(()=>{(0,eB.w)({intentId:e.quote.intentId,client:e.client}).then(t=>{e.onSuccess(t)})},[e.onSuccess,e.quote.intentId,e.client]);return"step-1"===n.id?(0,s.jsx)(eH.a,{title:e.title,client:e.client,onBack:e.onBack,partialQuote:(0,eH.R)(e.quote),step:1,onContinue:()=>{let t=eI(e.quote.onRampLink,e.theme);(0,eO.h)({type:"fiat",intentId:e.quote.intentId}),a(t),i({id:"onramp-status"})}}):"onramp-status"===n.id?(0,s.jsx)(eU,{title:e.title,client:e.client,intentId:e.quote.intentId,onBack:e.onBack,hasTwoSteps:t,openedWindow:o,quote:e.quote,onDone:e.onDone,onShowSwapFlow:e=>{i({id:"postonramp-swap",data:e})},transactionMode:e.transactionMode,isEmbed:e.isEmbed,onSuccess:e.onSuccess}):"postonramp-swap"===n.id?(0,s.jsx)(eK.S,{title:e.title,status:n.data,quote:(0,eH.R)(e.quote),client:e.client,onBack:e.onBack,onDone:e.onDone,onSwapFlowStarted:()=>{},transactionMode:e.transactionMode,isEmbed:e.isEmbed,payer:e.payer,onSuccess:l}):null}let eG=(0,el.ax)({id:137,name:"Polygon",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},blockExplorers:[{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}]});var eY=n(92880),eQ=n(48798),eJ=n(63680);function eZ(e){var t;let n;let{name:r}=(0,V.zw)(e.chain);return(0,s.jsxs)(S.W2,{children:[(0,s.jsx)("div",{onClick:e=>{e.currentTarget.querySelector("input")?.focus()},children:(0,s.jsxs)(S.W2,{flex:"row",center:"both",gap:"xs",style:{flexWrap:"nowrap"},children:[(0,s.jsx)(eJ.II,{variant:"outline",pattern:"^[0-9]*[.,]?[0-9]*$",inputMode:"decimal",tabIndex:-1,placeholder:"0",type:"text","data-placeholder":""===e.value,value:e.value||"0",disabled:e.freezeAmount,onClick:t=>{""===e.value&&t.currentTarget.setSelectionRange(t.currentTarget.value.length,t.currentTarget.value.length)},onChange:t=>{let n=t.target.value;n.startsWith(".")&&(n=`0${n}`),Number.isNaN(Number(n))||(n.startsWith("0")&&!n.startsWith("0.")?e.onChange(n.slice(1)):e.onChange(n))},style:{border:"none",fontSize:(t=e.value).length>10?"26px":t.length>6?"34px":"50px",boxShadow:"none",borderRadius:"0",padding:"0",paddingBlock:"2px",fontWeight:600,textAlign:"right",width:(n=e.value.replace(".","").length,e.value.includes(".")&&(n+=.3),`calc(${Math.max(1,n)}ch + 6px)`),maxWidth:"calc(100% - 100px)"}}),(0,s.jsx)(F.W,{token:e.token,chain:e.chain,size:"lg",color:"secondaryText"})]})}),!e.hideTokenSelector&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.L,{y:"sm"}),(0,s.jsx)(S.W2,{flex:"row",center:"x",children:(0,s.jsxs)(eX,{variant:"secondary",fullWidth:!0,style:{fontSize:d.JB.sm},gap:"xxs",onClick:e.onSelectToken,disabled:e.freezeChainAndToken,children:[(0,s.jsxs)(S.W2,{flex:"row",center:"y",gap:"sm",children:[(0,s.jsx)(Z.T,{token:e.token,chain:e.chain,size:"md",client:e.client}),(0,s.jsxs)(S.W2,{flex:"column",style:{gap:"4px"},children:[(0,s.jsx)(F.W,{token:e.token,chain:e.chain,size:"sm"}),r?(0,s.jsx)(R.x,{size:"xs",color:"secondaryText",children:r}):(0,s.jsx)(et.O,{width:"90px",height:d.JB.xs})]})]}),(0,s.jsx)(i.v4q,{width:d.EA.sm,height:d.EA.sm,style:{marginLeft:"auto"}})]})})]})]})}let eX=(0,eo.Z)(v.zx)(()=>{let e=(0,w.v$)();return{background:e.colors.tertiaryBg,border:`1px solid ${e.colors.borderColor}`,justifyContent:"flex-start",transition:"background 0.3s",padding:d.W0.sm}});var e0=n(19319);let e1=e=>(0,s.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",width:e.size,height:e.size,role:"presentation",children:(0,s.jsx)("path",{fill:"currentColor",d:"M15.6 4.6H1.85v-.55l12.1-.968v.968h1.65V2.4c0-1.21-.98-2.059-2.177-1.888L2.378 2.089C1.18 2.26.2 3.39.2 4.6v11a2.2 2.2 0 002.2 2.2h13.2a2.2 2.2 0 002.2-2.2V6.8a2.2 2.2 0 00-2.2-2.2zm-1.65 7.707a1.65 1.65 0 01-.63-3.176 1.65 1.65 0 11.63 3.176z"})});var e2=n(40414);function e5(e){let{name:t}=(0,V.zw)(e.chain),n=(0,u.t)({address:e.payerAccount.address,chain:e.chain,tokenAddress:(0,U.M)(e.token)?void 0:e.token.address,client:e.client});return(0,s.jsxs)(S.W2,{bg:"tertiaryBg",borderColor:"borderColor",flex:"row",style:{borderWidth:"1px",borderTopWidth:0,borderStyle:"solid",flexWrap:"nowrap",justifyContent:"space-between",minHeight:"64px",alignItems:"center",...e.swapRequired?{borderBottom:"none"}:{borderBottomLeftRadius:d.q0.md,borderBottomRightRadius:d.q0.md}},children:[(0,s.jsxs)(v.zx,{variant:"ghost",onClick:e.onSelectToken,gap:"sm",style:{paddingInline:d.W0.sm,paddingBlock:d.W0.sm,minWidth:"50%",justifyContent:"flex-start"},disabled:e.freezeChainAndTokenSelection,children:[(0,s.jsx)(er.K,{token:e.token,chain:e.chain,size:"md",client:e.client}),(0,s.jsxs)(S.W2,{flex:"column",gap:"3xs",children:[(0,s.jsxs)(S.W2,{flex:"row",gap:"xs",center:"y",color:"primaryText",children:[(0,s.jsx)(F.W,{token:e.token,chain:e.chain,size:"sm"}),(0,s.jsx)(i.v4q,{width:d.EA.sm,height:d.EA.sm})]}),t?(0,s.jsx)(R.x,{size:"xs",children:t}):(0,s.jsx)(et.O,{width:"90px",height:d.JB.xs})]})]}),(0,s.jsxs)("div",{style:{flexGrow:1,flexShrink:1,display:"flex",flexDirection:"column",alignItems:"flex-end",gap:d.W0.xxs,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",justifyContent:"center",paddingRight:d.W0.sm},children:[e.isLoading?(0,s.jsx)(et.O,{width:"120px",height:d.JB.md,color:"borderColor"}):(0,s.jsx)(R.x,{size:"md",color:e.value?"primaryText":"secondaryText",style:{},children:(0,l.u)(Number(e.value),6)||""}),(0,s.jsxs)(S.W2,{flex:"row",gap:"xxs",center:"y",color:"secondaryText",children:[(0,s.jsx)(e1,{size:d.JB.xs}),n.data?(0,s.jsx)(R.x,{size:"xs",color:"secondaryText",weight:500,children:(0,e2.a)(n.data,!1)}):(0,s.jsx)(et.O,{width:"70px",height:d.JB.xs})]})]})]})}var e8=n(65263),e3=n(27129),e4=n(56702),e6=n(98445);async function e7(e){try{let t=(0,m.NX)(e.client),n=await t((0,p.jM)(),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({fromAddress:e.fromAddress,toAddress:e.toAddress,chainId:e.chainId,tokenAddress:e.tokenAddress,amount:e.amount,purchaseData:e.purchaseData})});if(!n.ok){let e=await n.json();if(e&&"error"in e)throw e;throw Error(`HTTP error! status: ${n.status}`)}let s=(await n.json()).result;return{transactionRequest:{chain:(0,el.XY)(s.transactionRequest.chainId),client:e.client,data:s.transactionRequest.data,to:s.transactionRequest.to,value:BigInt(s.transactionRequest.value),gas:BigInt(s.transactionRequest.gasLimit)},approval:s.approval?(0,e6.d)({contract:(0,$.u)({client:e.client,address:s.approval.tokenAddress,chain:(0,el.XY)(s.approval.chainId)}),spender:s.approval.spenderAddress,amountWei:BigInt(s.approval.amountWei)}):void 0,fromAddress:s.fromAddress,toAddress:s.toAddress,paymentToken:s.paymentToken,processingFee:s.processingFee,estimatedGasCostUSDCents:s.estimatedGasCostUSDCents,client:e.client}}catch(e){throw console.error("Error getting buy with crypto transfer",e),e}}var e9=n(63950),te=n(75888),tt=n(71316),tn=n(80885),ts=n(94341),ti=n(47862);function tr(e){let{title:t,onBack:n,receiverAddress:a,client:c,payer:l,onDone:u,chain:x,token:h,tokenAmount:m,transactionMode:p,setTransactionHash:y}=e,[f,j]=(0,r.useState)("transfer"),[g,b]=(0,r.useState)("idle"),{symbol:w}=(0,V.U)(x);return(0,s.jsxs)(S.W2,{p:"lg",children:[(0,s.jsx)(S.xB,{title:t,onBack:n}),(0,s.jsx)(I.L,{y:"xl"}),p&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(eN.E,{steps:2,currentStep:"transfer"===f?1:2}),(0,s.jsx)(I.L,{y:"sm"}),(0,s.jsx)(R.x,{size:"sm",children:"transfer"===f?"Step 1 of 2 - Transfer funds":"Step 2 of 2 - Finalize transaction"}),(0,s.jsx)(I.L,{y:"xl"})]}),(0,s.jsxs)(S.W2,{flex:"row",center:"y",style:{justifyContent:"space-between"},children:[(0,s.jsx)(R.x,{size:"sm",children:"From"}),(0,s.jsx)(eT,{address:l.account.address,client:c})]}),(0,s.jsx)(I.L,{y:"md"}),(0,s.jsx)(S.x1,{}),(0,s.jsx)(I.L,{y:"md"}),(0,s.jsxs)(S.W2,{flex:"row",center:"y",style:{justifyContent:"space-between"},children:[(0,s.jsx)(R.x,{size:"sm",children:"To"}),(0,s.jsx)(eT,{address:a,client:c})]}),(0,s.jsx)(I.L,{y:"md"}),(0,s.jsx)(S.x1,{}),(0,s.jsx)(I.L,{y:"md"}),(0,s.jsx)(ts.Q,{chainId:x.id,client:c,label:"Amount",tokenAmount:m,tokenSymbol:(0,U.M)(h)?w||"":h.symbol,tokenAddress:(0,U.M)(h)?o.K8:h.address}),(0,s.jsx)(I.L,{y:"lg"}),p&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I.L,{y:"sm"}),(0,s.jsxs)(S.W2,{gap:"sm",flex:"row",style:{justifyContent:"space-between"},center:"y",color:"accentText",children:[(0,s.jsx)(tn.h,{isDone:"execute"===f,isActive:"transfer"===f,label:"transfer"===f?"Transfer":"Done"}),(0,s.jsx)(ti.s,{}),(0,s.jsx)(tn.h,{isDone:!1,label:"Finalize",isActive:"execute"===f})]}),(0,s.jsx)(I.L,{y:"lg"})]}),"error"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(S.W2,{flex:"row",gap:"xs",center:"both",color:"danger",children:[(0,s.jsx)(i.xrR,{width:d.EA.sm,height:d.EA.sm}),(0,s.jsx)(R.x,{color:"danger",size:"sm",children:"transfer"===f?"Failed to Transfer":"Failed to Execute"})]}),(0,s.jsx)(I.L,{y:"md"})]}),!p&&"execute"===f&&"done"===g&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(S.W2,{flex:"row",gap:"xs",center:"both",color:"success",children:[(0,s.jsx)(i.NhS,{width:d.EA.sm,height:d.EA.sm}),(0,s.jsx)(R.x,{color:"success",size:"sm",children:"Payment completed"})]}),(0,s.jsx)(I.L,{y:"md"})]}),l.chain.id!==x.id?(0,s.jsx)(M.v,{fullWidth:!0,variant:"accent",switchChain:async()=>{await e.payer.wallet.switchChain(x)}}):(0,s.jsxs)(v.zx,{variant:"accent",fullWidth:!0,disabled:"pending"===g,onClick:async()=>{if("execute"===f){u();return}try{if(b("pending"),p){let t=(0,U.M)(h)?(0,tt.prepareTransaction)({client:c,chain:x,to:a,value:(0,K.r0)(m)}):(0,e4.r)({contract:(0,$.u)({address:h.address,chain:x,client:c}),to:a,amount:m});await (0,e9.B)({account:e.payer.account,transaction:t}),j("execute"),b("idle")}else{let t=await e7({client:c,fromAddress:l.account.address,toAddress:a,chainId:x.id,tokenAddress:(0,U.M)(h)?o.K8:h.address,amount:m,purchaseData:void 0});console.log("transferResponse",t),t.approval&&(j("approve"),await (0,e9.B)({account:e.payer.account,transaction:t.approval})),j("transfer");let n=t.transactionRequest,s=await (0,te.sendTransaction)({account:e.payer.account,transaction:n});y(s.transactionHash),b("idle")}}catch(e){console.error(e),b("error")}},gap:"xs",children:["execute"===f&&("done"===g?"Done":"Continue"),"transfer"===f&&("pending"===g?"Confirming":"Confirm"),"approve"===f&&("pending"===g?"Approving":"Approve"),"pending"===g&&(0,s.jsx)(O.$,{size:"sm",color:"accentButtonText"})]})]})}function to(e){let[t,n]=(0,r.useState)();return t?(0,s.jsx)(e3.v,{title:e.title,onBack:e.onBack,onTryAgain:e.onTryAgain,swapTxHash:t,client:e.client,onDone:e.onDone,transactionMode:!1,isEmbed:e.isEmbed,quote:void 0,onSuccess:e.onSuccess}):(0,s.jsx)(tr,{...e,setTransactionHash:n})}function ta(e){let t=(0,w.v$)(),n=(0,eS.f)(),r=!e.showAllWallets&&e.wallets?.every(e=>n.includes(e));return(0,s.jsxs)(S.W2,{children:[(0,s.jsxs)(S.W2,{flex:"column",gap:"xs",children:[n.map(t=>{let n=t.getAccount()?.address;return(0,s.jsx)(ev,{walletId:t.id,client:e.client,address:n||"",onClick:()=>{e.onSelect(t),e.onBack()},disableChevron:!0,checked:!1},t.id)}),!r&&(0,s.jsx)(v.zx,{variant:"secondary",fullWidth:!0,onClick:e.onConnect,gap:"xs",bg:"tertiaryBg",style:{borderRadius:d.q0.lg,border:`1px solid ${t.colors.borderColor}`,padding:d.W0.sm},children:(0,s.jsxs)(S.W2,{flex:"row",gap:"sm",center:"y",expand:!0,children:[(0,s.jsx)(i.pOD,{width:d.EA.md,height:d.EA.md}),(0,s.jsx)(R.x,{size:"sm",color:"primaryText",children:"Add Another Wallet"})]})})]}),(0,s.jsx)(I.L,{y:"sm"})]})}var tc=n(72640);function tl(e){let t=(0,tc.oU)(e.client);return t.data?(0,s.jsx)(td,{...e,supportedDestinations:t.data}):(0,s.jsx)(j.a,{})}function td(e){let{client:t,supportedDestinations:n,connectLocale:i,payOptions:a}=e,c=(0,f.M)(),{payer:l,setPayer:d}=function(){let e=(0,G.r)(),t=(0,f.M)(),n=(0,eY.v)(),[s,i]=(0,r.useState)();return(0,r.useEffect)(()=>{let e=s?.wallet;function t(){if(!e){i(void 0);return}let t=e.getAccount(),n=e.getChain();t&&n?(console.log("updated to",t,n),i({account:t,chain:n,wallet:e})):i(void 0)}if(e){let n=e.subscribe("chainChanged",t),s=e.subscribe("accountChanged",t);return()=>{n(),s()}}},[s]),{payer:s||(t&&n&&e?{account:t,chain:n,wallet:e}:void 0),setPayer:i}}(),[u,x]=(0,r.useState)({id:"main"}),[h,m]=(0,r.useState)(!1),p=(0,r.useCallback)(()=>{x({id:"main"}),e.onDone()},[e.onDone]),{tokenAmount:y,setTokenAmount:j,toChain:g,setToChain:b,deferredTokenAmount:w,fromChain:k,setFromChain:C,toToken:W,setToToken:A,fromToken:v,setFromToken:T,selectedCurrency:E,setSelectedCurrency:L}=function(e){let t=(0,eY.v)(),{payOptions:n,supportedDestinations:s}=e,i=n?.prefillBuy,o=i?.amount||"",[a,c]=(0,r.useState)(o),l=(0,eQ.c)(a,300),[d,u]=(0,r.useState)(i?.chain||"transaction"===n.mode&&n.transaction?.chain||"direct_payment"===n.mode&&n.paymentInfo?.chain||s.find(e=>e.chain.id===t?.id)?.chain||eG),[x,h]=(0,r.useState)(i?.token||"direct_payment"===n.mode&&n.paymentInfo.token||U.L),[m,p]=(0,r.useState)(!1!==n.buyWithCrypto&&n.buyWithCrypto?.prefillSource?.chain||"transaction"===n.mode&&n.transaction?.chain||"direct_payment"===n.mode&&n.paymentInfo?.chain||eG),[y,f]=(0,r.useState)(!1!==n.buyWithCrypto&&n.buyWithCrypto?.prefillSource?.token||"direct_payment"===n.mode&&n.paymentInfo.token||U.L),j=(!1!==n.buyWithFiat?n.buyWithFiat?.prefillSource?.currency:void 0)||function(){try{let e=Intl.DateTimeFormat().resolvedOptions().timeZone.toLowerCase();if(e.includes("london"))return"GBP";if(e.includes("europe"))return"EUR";if(e.includes("japan"))return"JPY";if(e.includes("canada"))return"CAD";return"USD"}catch{return"USD"}}(),[g,b]=(0,r.useState)(eE.QT.find(e=>e.shorthand===j)||eE.kE);return{tokenAmount:a,setTokenAmount:c,toChain:d,setToChain:u,deferredTokenAmount:l,fromChain:m,setFromChain:p,toToken:x,setToToken:h,fromToken:y,setFromToken:f,selectedCurrency:g,setSelectedCurrency:b}}({payOptions:a,supportedDestinations:n}),z=(0,tc.QR)({client:e.client,destinationChainId:g.id,destinationTokenAddress:(0,U.M)(W)?o.K8:W.address}),B=(0,r.useMemo)(()=>tf(n,a,e.supportedTokens),[e.supportedTokens,n,a]),I=(0,r.useMemo)(()=>{if(!z.data)return;let t=z.data;return t[0]?.chain&&C(t[0]?.chain),tf(t,a,e.supportedTokens)},[e.supportedTokens,z.data,a,C]),O=function(e){let{payOptions:t,supportedDestinations:n,toChain:s,toToken:i}=e,{fiat:r,swap:a}=function(){let e=n.find(e=>e.chain.id===s.id);if(!e)return{fiat:!1,swap:!1};let t=(0,U.M)(i)?o.K8:i.address,r=e.tokens.find(e=>e.address.toLowerCase()===t.toLowerCase());return r?{fiat:r.buyWithFiatEnabled,swap:r.buyWithCryptoEnabled}:{fiat:!0,swap:!0}}(),c=!1!==t.buyWithFiat&&r,l=!1!==t.buyWithCrypto&&a;return{buyWithFiatEnabled:c,buyWithCryptoEnabled:l,showPaymentSelection:c&&l}}({payOptions:e.payOptions,supportedDestinations:e.supportedDestinations,toChain:g,toToken:W}),M=!1===O.showPaymentSelection&&!1===O.buyWithCryptoEnabled&&!1===O.buyWithFiatEnabled,R=(0,r.useCallback)(t=>{e.payOptions.onPurchaseSuccess?.({type:"crypto",status:t})},[e.payOptions.onPurchaseSuccess]),F=(0,r.useCallback)(t=>{e.payOptions.onPurchaseSuccess?.({type:"fiat",status:t})},[e.payOptions.onPurchaseSuccess]);if("connect-payer-wallet"===u.id)return(0,s.jsx)(_.A,{accountAbstraction:e.connectOptions?.accountAbstraction,appMetadata:e.connectOptions?.appMetadata,chain:e.connectOptions?.chain,chains:e.connectOptions?.chains,client:e.client,connectLocale:e.connectLocale,isEmbed:e.isEmbed,onBack:()=>x(u.backScreen),onSelect:e=>{let t=e.getAccount(),n=e.getChain();e&&t&&n&&d({account:t,chain:n,wallet:e})},recommendedWallets:e.connectOptions?.recommendedWallets,showAllWallets:e.connectOptions?.showAllWallets===void 0||e.connectOptions?.showAllWallets,walletConnect:e.connectOptions?.walletConnect,wallets:e.connectOptions?.wallets});if("swap-flow"===u.id&&l)return(0,s.jsx)(e8.$,{title:e.title,transactionMode:"transaction"===a.mode,isEmbed:e.isEmbed,client:t,onBack:()=>{x({id:"buy-with-crypto"})},buyWithCryptoQuote:u.quote,payer:l,isFiatFlow:!1,onDone:p,onTryAgain:()=>{x({id:"buy-with-crypto"})},onSuccess:R});if("fiat-flow"===u.id&&l)return(0,s.jsx)(eV,{title:e.title,transactionMode:"transaction"===a.mode,quote:u.quote,onBack:()=>{x({id:"buy-with-fiat"})},client:t,testMode:!1!==e.payOptions.buyWithFiat&&e.payOptions.buyWithFiat?.testMode===!0,theme:"string"==typeof e.theme?e.theme:e.theme.type,openedWindow:u.openedWindow,onDone:p,isEmbed:e.isEmbed,payer:l,onSuccess:F});if("transfer-flow"===u.id&&l&&c){let t=e.payOptions?.paymentInfo?.sellerAddress||c.address;return(0,s.jsx)(to,{title:e.title,onBack:()=>x({id:"buy-with-crypto"}),payer:l,client:e.client,chain:g,token:W,tokenAmount:y,receiverAddress:t,transactionMode:"transaction"===e.payOptions.mode,isEmbed:e.isEmbed,onDone:p,onTryAgain:()=>{x({id:"buy-with-crypto"})},onSuccess:R})}if("select-currency"===u.id){let e=()=>x(u.backScreen);return(0,s.jsx)(eL,{onSelect:t=>{e(),L(t)},onBack:e})}if("select-to-token"===u.id){let r=n.map(e=>e.chain),c=()=>x(u.backScreen),l=a?.prefillBuy?.allowEdits;return l?.token===!1?(0,s.jsx)(tj,{chains:r,client:e.client,connectLocale:e.connectLocale,setChain:b,goBack:c}):(0,s.jsx)(P.k,{onBack:c,tokenList:((g?.id?B[g.id]:void 0)||[]).filter(e=>e.address!==o.K8),onTokenSelect:e=>{A(e),c()},chain:g,chainSelection:l?.chain!==!1?{chains:r,select:e=>{b(e)}}:void 0,connectLocale:i,client:t,modalTitle:e.title})}if("select-from-token"===u.id&&z.data&&I){let n=z.data.map(e=>e.chain),r=()=>x(u.backScreen);return!1!==a.buyWithCrypto&&a.buyWithCrypto?.prefillSource?.allowEdits?.token===!1?(0,s.jsx)(tj,{chains:n,client:e.client,connectLocale:e.connectLocale,setChain:C,goBack:r}):(0,s.jsx)(P.k,{onBack:r,tokenList:((k?.id?I[k.id]:void 0)||[]).filter(e=>e.address!==o.K8),onTokenSelect:e=>{T(e),r()},chain:k,chainSelection:!1!==a.buyWithCrypto&&a.buyWithCrypto?.prefillSource?.allowEdits?.chain!==!1?{chains:z.data.map(e=>e.chain),select:e=>C(e)}:void 0,connectLocale:i,client:t,modalTitle:"Pay with"})}return(0,s.jsx)(S.W2,{animate:"fadein",children:(0,s.jsxs)("div",{children:["main"===u.id&&(0,s.jsx)(tx,{title:e.title,payerAccount:l?.account,client:t,onSelectBuyToken:()=>x({id:"select-to-token",backScreen:u}),payOptions:a,setTokenAmount:j,setToChain:b,setToToken:A,setFromChain:C,setFromToken:T,toChain:g,toToken:W,tokenAmount:y,connectOptions:e.connectOptions,setScreen:x,supportedDestinations:n,onBack:e.onBack,theme:e.theme,hasEditedAmount:h,setHasEditedAmount:m,enabledPaymentMethods:O}),("select-payment-method"===u.id||"select-wallet"===u.id||"buy-with-crypto"===u.id||"buy-with-fiat"===u.id)&&l&&(0,s.jsxs)(th,{title:e.title,selectedChain:g,selectedToken:W,tokenAmount:y,client:t,onBack:()=>{O.showPaymentSelection&&("select-wallet"===u.id||"buy-with-fiat"===u.id)?x({id:"select-payment-method"}):"buy-with-crypto"===u.id?x({id:"select-wallet"}):x({id:"main"})},children:["select-payment-method"===u.id&&(0,s.jsx)(tm,{setScreen:e=>x({id:e})}),"select-wallet"===u.id&&(0,s.jsx)(ta,{client:t,onSelect:e=>{let t=e.getChain(),n=e.getAccount();t&&n&&(d({account:n,chain:t,wallet:e}),x({id:"buy-with-crypto"}))},showAllWallets:!!e.connectOptions?.showAllWallets,wallets:e.connectOptions?.wallets,onBack:()=>{},onConnect:()=>{x({id:"connect-payer-wallet",backScreen:{id:"select-wallet"}})},selectedAddress:l.account.address}),"buy-with-crypto"===u.id&&c&&(0,s.jsx)(tp,{setScreen:x,tokenAmount:w,toChain:g,toToken:W,fromChain:k,fromToken:v,showFromTokenSelector:()=>{x({id:"select-from-token",backScreen:u})},payer:l,client:t,isEmbed:e.isEmbed,onDone:p,payOptions:a,connectLocale:i,connectOptions:e.connectOptions,setPayer:d,activeAccount:c,setTokenAmount:j,setHasEditedAmount:m,disableTokenSelection:!0===M||!1!==a.buyWithCrypto&&a.buyWithCrypto?.prefillSource?.allowEdits?.chain===!1&&a.buyWithCrypto?.prefillSource?.allowEdits?.token===!1}),"buy-with-fiat"===u.id&&(0,s.jsx)(ty,{setScreen:x,tokenAmount:w,toChain:g,toToken:W,selectedCurrency:E,client:t,isEmbed:e.isEmbed,onDone:p,payOptions:a,theme:e.theme,showCurrencySelector:()=>{x({id:"select-currency",backScreen:u})},payer:l,setTokenAmount:j,setHasEditedAmount:m})]})]})})}function tu(e){return(0,s.jsx)("div",{children:(0,s.jsxs)(S.W2,{flex:"row",gap:"sm",center:"y",style:{justifyContent:"space-between"},children:[(0,s.jsxs)(S.W2,{flex:"row",gap:"xs",center:"y",children:[(0,s.jsx)(R.x,{color:"primaryText","data-testid":"tokenAmount",size:"xl",children:(0,l.u)(Number(e.tokenAmount),6)}),(0,s.jsxs)(S.W2,{flex:"row",gap:"xxs",center:"y",children:[(0,s.jsx)(F.W,{token:e.selectedToken,chain:e.selectedChain,size:"md",color:"secondaryText"}),(0,s.jsx)(er.K,{chain:e.selectedChain,client:e.client,size:"sm",token:e.selectedToken})]})]}),(0,s.jsx)(g.G,{chain:e.selectedChain,client:e.client,size:"sm",short:!0})]})})}function tx(e){let{setTokenAmount:t,setToChain:n,setToToken:i,setFromChain:r,setFromToken:o,payerAccount:a,client:c,tokenAmount:l,payOptions:d,toToken:u,toChain:x,supportedDestinations:h,enabledPaymentMethods:m}=e,{showPaymentSelection:p,buyWithCryptoEnabled:y,buyWithFiatEnabled:f}=m,j=!l;switch(d.mode){case"transaction":return(0,s.jsx)(eA,{supportedDestinations:h,payUiOptions:d,payerAccount:a,connectOptions:e.connectOptions,client:c,onContinue:(s,a,c)=>{t(s),n(a),r(a),o(c),i(c),p?e.setScreen({id:"select-payment-method"}):y?e.setScreen({id:"select-wallet"}):f?e.setScreen({id:"buy-with-fiat"}):e.setScreen({id:"select-wallet"})}});case"direct_payment":return(0,s.jsx)(ee,{client:c,payUiOptions:d,payerAccount:a,connectOptions:e.connectOptions,supportedDestinations:h,onContinue:(s,a,c)=>{t(s),n(a),r(a),o(c),i(c),p?e.setScreen({id:"select-payment-method"}):y?e.setScreen({id:"buy-with-crypto"}):f?e.setScreen({id:"buy-with-fiat"}):e.setScreen({id:"select-wallet"})}});default:return(0,s.jsxs)(S.W2,{p:"lg",children:[(0,s.jsx)(S.xB,{title:e.title,onBack:e.onBack}),(0,s.jsx)(I.L,{y:"xl"}),(0,s.jsx)(eZ,{value:l,onChange:async n=>{e.setHasEditedAmount(!0),t(n)},freezeAmount:d.prefillBuy?.allowEdits?.amount===!1,freezeChainAndToken:d.prefillBuy?.allowEdits?.chain===!1&&d.prefillBuy?.allowEdits?.token===!1,token:u,chain:x,onSelectToken:e.onSelectBuyToken,client:e.client}),(0,s.jsx)(I.L,{y:"xl"}),(0,s.jsx)(S.W2,{flex:"column",gap:"sm",children:a?(0,s.jsx)(v.zx,{variant:"accent",fullWidth:!0,disabled:j,"data-disabled":j,onClick:()=>{p?e.setScreen({id:"select-payment-method"}):y?e.setScreen({id:"buy-with-crypto"}):f?e.setScreen({id:"buy-with-fiat"}):console.error("No payment method enabled")},children:"Continue"}):(0,s.jsx)("div",{children:(0,s.jsx)(q.N,{...e.connectOptions,client:e.client,theme:e.theme,connectButton:{style:{width:"100%"}}})})})]})}}function th(e){return(0,s.jsxs)(S.W2,{children:[(0,s.jsx)(S.W2,{p:"lg",children:(0,s.jsx)(S.xB,{title:e.title,onBack:e.onBack})}),(0,s.jsxs)(S.W2,{px:"lg",style:{paddingBottom:d.W0.lg},children:[(0,s.jsx)(I.L,{y:"xs"}),(0,s.jsx)(tu,{selectedToken:e.selectedToken,selectedChain:e.selectedChain,tokenAmount:e.tokenAmount,client:e.client}),(0,s.jsx)(I.L,{y:"md"}),(0,s.jsx)(S.x1,{}),(0,s.jsx)(I.L,{y:"lg"}),(0,s.jsx)(R.x,{size:"sm",children:" Pay with "}),(0,s.jsx)(I.L,{y:"sm"}),e.children]})]})}function tm(e){return(0,s.jsx)(S.W2,{animate:"fadein",children:(0,s.jsxs)(S.W2,{flex:"column",gap:"sm",children:[(0,s.jsxs)(v.zx,{variant:"outline",bg:"tertiaryBg",onClick:()=>e.setScreen("buy-with-fiat"),gap:"sm",style:{justifyContent:"flex-start",textAlign:"left"},children:[(0,s.jsx)(S.W2,{color:"secondaryText",flex:"row",center:"both",children:(0,s.jsx)(i.Xwj,{style:{width:d.EA.md,height:d.EA.md}})}),(0,s.jsxs)(S.W2,{flex:"column",gap:"xxs",children:[(0,s.jsx)(R.x,{size:"md",color:"primaryText",children:"Credit Card"}),(0,s.jsx)(R.x,{size:"xs",children:"Securely pay with credit card"})]})]}),(0,s.jsxs)(v.zx,{variant:"outline",bg:"tertiaryBg",onClick:()=>e.setScreen("select-wallet"),style:{justifyContent:"flex-start"},gap:"sm",children:[(0,s.jsx)(S.W2,{color:"secondaryText",flex:"row",center:"both",children:(0,s.jsx)(D.O,{size:d.EA.md})}),(0,s.jsxs)(S.W2,{flex:"column",gap:"xxs",children:[(0,s.jsx)(R.x,{size:"md",color:"primaryText",children:"Crypto"}),(0,s.jsx)(R.x,{size:"xs",children:"Pay with your connected wallet"})]})]})]})})}function tp(e){var t,n;let{setScreen:i,payer:a,client:c,toChain:d,tokenAmount:m,toToken:p,fromChain:y,fromToken:f,showFromTokenSelector:j,payOptions:g,disableTokenSelection:b}=e,w=e.payOptions?.paymentInfo?.sellerAddress||e.activeAccount.address,{drawerRef:k,drawerOverlayRef:C,isOpen:W,setIsOpen:A}=B(),[E,L]=(0,r.useState)("fees"),q=(0,u.t)({address:a.account.address,chain:y,tokenAddress:(0,U.M)(f)?void 0:f.address,client:c}),N=(0,U.M)(f)?o.K8:f.address.toLowerCase(),D=(0,U.M)(p)?o.K8:p.address.toLowerCase(),P=!!m&&!(y.id===d.id&&N===D),_=(t=P?{fromAddress:a.account.address,toAddress:w,fromChainId:y.id,fromTokenAddress:(0,U.M)(f)?o.K8:f.address,toChainId:d.id,toTokenAddress:(0,U.M)(p)?o.K8:p.address,toAmount:m,client:c,purchaseData:g.purchaseData}:void 0,n={staleTime:3e4,refetchInterval:3e4,gcTime:3e4},(0,x.a)({...n,queryKey:["buyWithCryptoQuote",t],queryFn:()=>{if(!t)throw Error("Swap params are required");return(0,h.D)(t)},enabled:!!t,retry(e,t){if(e>3)return!1;try{let e=t.error;if("MINIMUM_PURCHASE_AMOUNT"===e.code||404===e.statusCode||e.statusCode>=500)return!1}catch{}return!0}})),$=P?_.data?.swapDetails.fromAmount:m,H=!!$&&!!q.data&&Number(q.data.displayValue)<Number($),K=P&&!_.data||H,V=e.payer.chain.id!==y.id,G=!_.isLoading&&_.error?function(e){try{if("MINIMUM_PURCHASE_AMOUNT"===e.error.code){let t=e.error.data.minimumAmountEth;return{minAmount:(0,l.u)(Number(t),6)}}}catch{}return{msg:["Unable to get price quote"]}}(_.error):void 0;return(0,s.jsxs)(S.W2,{flex:"column",gap:"md",animate:"fadein",children:[W&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z,{ref:C}),(0,s.jsx)(T,{ref:k,close:()=>A(!1),children:"fees"===E&&_.data&&(0,s.jsxs)("div",{children:[(0,s.jsx)(R.x,{size:"lg",color:"primaryText",children:"Fees"}),(0,s.jsx)(I.L,{y:"lg"}),(0,s.jsx)(e0.O,{quote:_.data,align:"left"})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(ev,{client:e.client,onClick:()=>{i({id:"select-wallet"})},address:e.payer.account.address,walletId:e.payer.wallet.id,containerStyle:{borderBottomRightRadius:0,borderBottomLeftRadius:0}}),(0,s.jsx)(e5,{value:$||"",onSelectToken:j,chain:y,token:f,isLoading:_.isLoading&&!$,client:c,freezeChainAndTokenSelection:b,payerAccount:e.payer.account,swapRequired:P}),P&&(0,s.jsx)(es,{quoteIsLoading:_.isLoading,estimatedSeconds:_.data?.swapDetails.estimated.durationSeconds,onViewFees:function(){_.data&&(A(!0),L("fees"))}}),(0,s.jsx)(I.L,{y:"md"})]}),G&&(0,s.jsxs)("div",{children:[G.minAmount&&(0,s.jsxs)(R.x,{color:"danger",size:"sm",center:!0,multiline:!0,children:["Minimum amount is ",G.minAmount," ",(0,s.jsx)(F.W,{token:p,chain:d,size:"sm",inline:!0,color:"danger"})]}),G.msg?.map(e=>s.jsx(R.x,{color:"danger",size:"sm",center:!0,multiline:!0,children:e},e))]}),!G&&H&&(0,s.jsxs)("div",{children:[(0,s.jsx)(R.x,{color:"danger",size:"sm",center:!0,multiline:!0,children:"Not enough funds."}),(0,s.jsx)(R.x,{color:"danger",size:"sm",center:!0,multiline:!0,children:"Try a different wallet or token."})]}),G?.minAmount?(0,s.jsx)(v.zx,{variant:"accent",fullWidth:!0,onClick:()=>{e.setTokenAmount(String(G.minAmount)),e.setHasEditedAmount(!0)},children:"Set Minimum"}):!V||_.isLoading||H||_.error?(0,s.jsx)(v.zx,{variant:K?"outline":"accent",fullWidth:!0,"data-disabled":K,disabled:K,onClick:async()=>{K||function(){if(("transaction"===e.payOptions.mode||"direct_payment"===e.payOptions.mode)&&!H&&!P){a.account.address!==w?i({id:"transfer-flow"}):e.onDone();return}_.data&&i({id:"swap-flow",quote:_.data})}()},gap:"xs",children:_.isLoading?(0,s.jsxs)(s.Fragment,{children:["Getting price quote",(0,s.jsx)(O.$,{size:"sm",color:"accentText"})]}):"Continue"}):(0,s.jsx)(M.v,{variant:"accent",fullWidth:!0,switchChain:async()=>{await e.payer.wallet.switchChain(y)}})]})}function ty(e){var t;let{toToken:n,tokenAmount:i,payer:a,client:d,setScreen:u,toChain:h,showCurrencySelector:m,selectedCurrency:p}=e,f=e.payOptions?.paymentInfo?.sellerAddress||e.payer.account.address,{drawerRef:j,drawerOverlayRef:g,isOpen:b,setIsOpen:w}=B(),[k,C]=(0,r.useState)("fees"),W=e.payOptions.buyWithFiat,A=(t=!1!==W&&i?{fromCurrencySymbol:p.shorthand,toChainId:h.id,toAddress:f,toTokenAddress:(0,U.M)(n)?o.K8:n.address,toAmount:i,client:d,isTestMode:W?.testMode,purchaseData:e.payOptions.purchaseData,fromAddress:a.account.address}:void 0,(0,x.a)({queryKey:["useBuyWithFiatQuote",t],queryFn:async()=>{if(!t)throw Error("No params provided");return y(t)},enabled:!!t,retry(e,t){if(e>3)return!1;try{let e=t.error;if("MINIMUM_PURCHASE_AMOUNT"===e.code||404===e.statusCode||e.statusCode>=500)return!1}catch{}return!0}})),E=!A.data,L=!A.isLoading&&A.error?function(e){try{if("MINIMUM_PURCHASE_AMOUNT"===e.error.code){let t=e.error.data.minimumAmountEth;return{minAmount:(0,l.u)(Number(t),6)}}}catch{}return{msg:["Unable to get price quote"]}}(A.error):void 0;return(0,s.jsxs)(S.W2,{flex:"column",gap:"md",animate:"fadein",children:[b&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(z,{ref:g}),(0,s.jsx)(T,{ref:j,close:()=>w(!1),children:"fees"===k&&A.data&&(0,s.jsxs)("div",{children:[(0,s.jsx)(R.x,{size:"lg",color:"primaryText",children:"Fees"}),(0,s.jsx)(I.L,{y:"lg"}),(0,s.jsx)(e0.W,{quote:A.data})]})})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(ea,{isLoading:A.isLoading,value:A.data?.fromCurrencyWithFees.amount,client:d,currency:p,onSelectCurrency:m}),(0,s.jsx)(es,{quoteIsLoading:A.isLoading,estimatedSeconds:A.data?.estimatedDurationSeconds,onViewFees:function(){A.data&&(C("fees"),w(!0))}}),(0,s.jsx)(I.L,{y:"md"})]}),L&&(0,s.jsxs)("div",{children:[L.minAmount&&(0,s.jsxs)(R.x,{color:"danger",size:"sm",center:!0,multiline:!0,children:["Minimum amount is ",L.minAmount," ",(0,s.jsx)(F.W,{token:n,chain:h,size:"sm",inline:!0,color:"danger"})]}),L.msg?.map(e=>s.jsx(R.x,{color:"danger",size:"sm",center:!0,multiline:!0,children:e},e))]}),L?.minAmount?(0,s.jsx)(v.zx,{variant:"accent",fullWidth:!0,onClick:()=>{e.setTokenAmount(String(L.minAmount)),e.setHasEditedAmount(!0)},children:"Set Minimum"}):(0,s.jsx)(v.zx,{variant:E?"outline":"accent","data-disabled":E,disabled:E,fullWidth:!0,onClick:function(){if(!A.data)return;let t=c(A.data),n=null;t||(n=eI(A.data.onRampLink,"string"==typeof e.theme?e.theme:e.theme.type),(0,eO.h)({type:"fiat",intentId:A.data.intentId})),u({id:"fiat-flow",quote:A.data,openedWindow:n})},gap:"xs",children:A.isLoading?(0,s.jsxs)(s.Fragment,{children:["Getting price quote",(0,s.jsx)(O.$,{size:"sm",color:"accentText"})]}):"Continue"})]})}function tf(e,t,n){let s={},i=!1===t.buyWithFiat,r=!1===t.buyWithCrypto;for(let t of e)s[t.chain.id]=t.tokens.filter(e=>!!e.buyWithCryptoEnabled&&!!e.buyWithFiatEnabled||(!!e.buyWithCryptoEnabled||!i)&&(!!e.buyWithFiatEnabled||!r));if(n)for(let e in n){let t=Number(e),i=n[t];i&&(s[t]=i)}return s}function tj(e){return(0,s.jsx)(N.w$,{client:e.client,connectLocale:e.connectLocale,showTabs:!1,onBack:e.goBack,chains:e.chains,closeModal:e.goBack,networkSelector:{renderChain:t=>(0,s.jsx)(N.mx,{chain:t.chain,confirming:!1,switchingFailed:!1,onClick:()=>{e.setChain(t.chain),e.goBack()},client:e.client,connectLocale:e.connectLocale})}})}}}]);