"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[80271],{60301:function(e,t,a){a.d(t,{K8:function(){return n},je:function(){return r},qw:function(){return o}});let n="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee";function o(e){return e.toLowerCase()===n}let r="0x0000000000000000000000000000000000000000"},80271:function(e,t,a){a.d(t,{relayBiconomyTransaction:function(){return h}});var n=a(45444),o=a(60301),r=a(57621),i=a(52749),s=a(94022),c=a(75100),d=a(26182);async function u({account:e,serializableTransaction:t,transaction:a,gasless:i}){let c=(0,r.u)({address:i.relayerForwarderAddress,chain:a.chain,client:a.client}),u=await (0,d.readContract)({contract:c,method:"function getNonce(address,uint256) view returns (uint256)",params:[e.address,0n]}),h=Math.floor(Date.now()/1e3)+(i.deadlineSeconds??3600),l={from:e.address,to:t.to,token:o.je,txGas:t.gas,tokenGasPrice:0n,batchId:0n,batchNonce:u,deadline:h,data:t.data};if(!l.to)throw Error("Cannot send a transaction without a `to` address");if(!l.txGas)throw Error("Cannot send a transaction without a `gas` value");if(!l.data)throw Error("Cannot send a transaction without a `data` value");let f=(0,n.E)([{type:"address"},{type:"address"},{type:"address"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"uint256"},{type:"bytes32"}],[l.from,l.to,l.token,l.txGas,l.tokenGasPrice,l.batchId,l.batchNonce,(0,s.w)(l.data)]);return[l,await e.signMessage({message:f})]}async function h(e){let[t,a]=await u(e),n=await fetch("https://api.biconomy.io/api/v2/meta-tx/native",{method:"POST",body:(0,c.P)({apiId:e.gasless.apiId,params:[t,a],from:t.from,to:t.to,gasLimit:t.txGas}),headers:{"x-api-key":e.gasless.apiKey,"Content-Type":"application/json;charset=utf-8"}});if(!n.ok)throw n.body?.cancel(),Error(`Failed to send transaction: ${await n.text()}`);let o=await n.json(),r=o.txHash;if((0,i.v)(r))return{transactionHash:r,chain:e.transaction.chain,client:e.transaction.client};throw Error(`Failed to send transaction: ${(0,c.P)(o)}`)}}}]);