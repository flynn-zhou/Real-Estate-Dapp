"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[33156],{33156:function(e,t,n){n.d(t,{estimateL1Fee:function(){return q}});let r={ether:-9,wei:9};function o(e,t="wei"){return function(e,t){let n=e.toString(),r=n.startsWith("-");r&&(n=n.slice(1));let[o,a]=[(n=n.padStart(t,"0")).slice(0,n.length-t),n.slice(n.length-t)];return a=a.replace(/(0+)$/,""),`${r?"-":""}${o||"0"}${a?`.${a}`:""}`}(e,r[t])}var a=n(36117);class s extends a.G{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class i extends a.G{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",function(e){let t=Object.entries(e).map(([e,t])=>void 0===t||!1===t?null:[e,t]).filter(Boolean),n=t.reduce((e,[t])=>Math.max(e,t.length),0);return t.map(([e,t])=>`  ${`${e}:`.padEnd(n+1)}  ${t}`).join("\n")}(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class c extends a.G{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}var l=n(11187),u=n(92106);function h(e){let{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,l.nr)(e)):e.blobs,o=[];for(let e of r)o.push(Uint8Array.from(t.blobToKzgCommitment(e)));return"bytes"===n?o:o.map(e=>(0,u.ci)(e))}function f(e){let{kzg:t}=e,n=e.to??("string"==typeof e.blobs[0]?"hex":"bytes"),r="string"==typeof e.blobs[0]?e.blobs.map(e=>(0,l.nr)(e)):e.blobs,o="string"==typeof e.commitments[0]?e.commitments.map(e=>(0,l.nr)(e)):e.commitments,a=[];for(let e=0;e<r.length;e++){let n=r[e],s=o[e];a.push(Uint8Array.from(t.computeBlobKzgProof(n,s)))}return"bytes"===n?a:a.map(e=>(0,u.ci)(e))}var d=n(53932),p=n(15102);class b extends a.G{constructor({maxSize:e,size:t}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${t} bytes`],name:"BlobSizeTooLargeError"})}}class g extends a.G{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class x extends a.G{constructor({hash:e,size:t}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${t}`],name:"InvalidVersionedHashSizeError"})}}class m extends a.G{constructor({hash:e,version:t}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:["Expected: 1",`Received: ${t}`],name:"InvalidVersionedHashVersionError"})}}var v=n(11221),w=n(39135),y=n(57040),C=n(61836),N=n(7529),P=n(26087);class G extends a.G{constructor({chainId:e}){super("number"==typeof e?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}class $ extends a.G{constructor({cause:e,message:t}={}){let n=t?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty($,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty($,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class E extends a.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${o(t)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(E,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class T extends a.G{constructor({cause:e,maxFeePerGas:t}={}){super(`The fee cap (\`maxFeePerGas\`${t?` = ${o(t)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(T,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class M extends a.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(M,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class F extends a.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}is lower than the current nonce of the account.
Try increasing the nonce or find the latest nonce with \`getTransactionCount\`.`,{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(F,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class L extends a.G{constructor({cause:e,nonce:t}={}){super(`Nonce provided for the transaction ${t?`(${t}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(L,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class I extends a.G{constructor({cause:e}={}){super("The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account.",{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(I,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds/});class z extends a.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(z,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class B extends a.G{constructor({cause:e,gas:t}={}){super(`The amount of gas ${t?`(${t}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(B,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class U extends a.G{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(U,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class V extends a.G{constructor({cause:e,maxPriorityFeePerGas:t,maxFeePerGas:n}={}){super(`The provided tip (\`maxPriorityFeePerGas\`${t?` = ${o(t)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${o(n)} gwei`:""}).`,{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(V,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});var k=n(49321),j=n(3972),O=n(95946);function S(e){let{chainId:t,maxPriorityFeePerGas:n,maxFeePerGas:r,to:o}=e;if(t<=0)throw new G({chainId:t});if(o&&!(0,k.U)(o))throw new P.b({address:o});if(r&&r>2n**256n-1n)throw new E({maxFeePerGas:r});if(n&&r&&n>r)throw new V({maxFeePerGas:r,maxPriorityFeePerGas:n})}function H(e){if(!e||0===e.length)return[];let t=[];for(let n=0;n<e.length;n++){let{address:r,storageKeys:o}=e[n];for(let e=0;e<o.length;e++)if(o[e].length-2!=64)throw new c({storageKey:o[e]});if(!(0,k.U)(r,{strict:!1}))throw new P.b({address:r});t.push([r,o])}return t}function A(e,t){let n=t??e,{v:r,yParity:o}=n;if(void 0===n.r||void 0===n.s||void 0===r&&void 0===o)return[];let a=(0,C.f)(n.r),s=(0,C.f)(n.s);return["number"==typeof o?o?(0,u.NC)(1):"0x":0n===r?"0x":1n===r?(0,u.NC)(1):27n===r?"0x":(0,u.NC)(1),"0x00"===a?"0x":a,"0x00"===s?"0x":s]}var _=n(57621),K=n(47537),R=n(26182);async function q(e){let{transaction:t,gasPriceOracleAddress:n}=e,r=(0,_.u)({client:t.client,address:n||"0x420000000000000000000000000000000000000F",chain:t.chain}),{gasPrice:o,...c}=await (0,K.n)({transaction:t}),$=function(e,t){let n=function(e){if(e.type)return e.type;if(void 0!==e.authorizationList)return"eip7702";if(void 0!==e.blobs||void 0!==e.blobVersionedHashes||void 0!==e.maxFeePerBlobGas||void 0!==e.sidecars)return"eip4844";if(void 0!==e.maxFeePerGas||void 0!==e.maxPriorityFeePerGas)return"eip1559";if(void 0!==e.gasPrice)return void 0!==e.accessList?"eip2930":"legacy";throw new i({transaction:e})}(e);return"eip1559"===n?function(e,t){let{chainId:n,gas:r,nonce:o,to:a,value:s,maxFeePerGas:i,maxPriorityFeePerGas:c,accessList:l,data:h}=e;S(e);let f=H(l),d=[(0,u.NC)(n),o?(0,u.NC)(o):"0x",c?(0,u.NC)(c):"0x",i?(0,u.NC)(i):"0x",r?(0,u.NC)(r):"0x",a??"0x",s?(0,u.NC)(s):"0x",h??"0x",f,...A(e,t)];return(0,y.SM)(["0x02",(0,N.LV)(d)])}(e,void 0):"eip2930"===n?function(e,t){let{chainId:n,gas:r,data:o,nonce:s,to:i,value:c,accessList:l,gasPrice:h}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:o,to:s}=e;if(t<=0)throw new G({chainId:t});if(s&&!(0,k.U)(s))throw new P.b({address:s});if(n||o)throw new a.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(r&&r>2n**256n-1n)throw new E({maxFeePerGas:r})}(e);let f=H(l),d=[(0,u.NC)(n),s?(0,u.NC)(s):"0x",h?(0,u.NC)(h):"0x",r?(0,u.NC)(r):"0x",i??"0x",c?(0,u.NC)(c):"0x",o??"0x",f,...A(e,t)];return(0,y.SM)(["0x01",(0,N.LV)(d)])}(e,void 0):"eip4844"===n?function(e,t){let{chainId:n,gas:r,nonce:o,to:a,value:s,maxFeePerBlobGas:i,maxFeePerGas:c,maxPriorityFeePerGas:C,accessList:P,data:G}=e;!function(e){let{blobVersionedHashes:t}=e;if(t){if(0===t.length)throw new g;for(let e of t){let t=(0,w.d)(e),n=(0,O.ly)((0,j.tP)(e,0,1));if(32!==t)throw new x({hash:e,size:t});if(1!==n)throw new m({hash:e,version:n})}}S(e)}(e);let $=e.blobVersionedHashes,E=e.sidecars;if(e.blobs&&(void 0===$||void 0===E)){let t="string"==typeof e.blobs[0]?e.blobs:e.blobs.map(e=>(0,u.ci)(e)),n=e.kzg,r=h({blobs:t,kzg:n});if(void 0===$&&($=function(e){let{commitments:t,version:n}=e,r=e.to??("string"==typeof t[0]?"hex":"bytes"),o=[];for(let e of t)o.push(function(e){let{commitment:t,version:n=1}=e,r=e.to??("string"==typeof t?"hex":"bytes"),o=function(e,t){let n=(0,d.J)((0,p.v)(e,{strict:!1})?(0,l.O0)(e):e);return"bytes"===(t||"hex")?n:(0,u.NC)(n)}(t,"bytes");return o.set([n],0),"bytes"===r?o:(0,u.ci)(o)}({commitment:e,to:r,version:n}));return o}({commitments:r})),void 0===E){let e=f({blobs:t,commitments:r,kzg:n});E=function(e){let{data:t,kzg:n,to:r}=e,o=e.blobs??function(e){let t=e.to??("string"==typeof e.data?"hex":"bytes"),n="string"==typeof e.data?(0,l.nr)(e.data):e.data,r=(0,w.d)(n);if(!r)throw new g;if(r>761855)throw new b({maxSize:761855,size:r});let o=[],a=!0,s=0;for(;a;){let e=(0,v.q)(new Uint8Array(131072)),t=0;for(;t<4096;){let r=n.slice(s,s+31);if(e.pushByte(0),e.pushBytes(r),r.length<31){e.pushByte(128),a=!1;break}t++,s+=31}o.push(e)}return"bytes"===t?o.map(e=>e.bytes):o.map(e=>(0,u.ci)(e.bytes))}({data:t,to:r}),a=e.commitments??h({blobs:o,kzg:n,to:r}),s=e.proofs??f({blobs:o,commitments:a,kzg:n,to:r}),i=[];for(let e=0;e<o.length;e++)i.push({blob:o[e],commitment:a[e],proof:s[e]});return i}({blobs:t,commitments:r,proofs:e})}}let T=H(P),M=[(0,u.NC)(n),o?(0,u.NC)(o):"0x",C?(0,u.NC)(C):"0x",c?(0,u.NC)(c):"0x",r?(0,u.NC)(r):"0x",a??"0x",s?(0,u.NC)(s):"0x",G??"0x",T,i?(0,u.NC)(i):"0x",$??[],...A(e,t)],F=[],L=[],I=[];if(E)for(let e=0;e<E.length;e++){let{blob:t,commitment:n,proof:r}=E[e];F.push(t),L.push(n),I.push(r)}return(0,y.SM)(["0x03",E?(0,N.LV)([M,F,L,I]):(0,N.LV)(M)])}(e,void 0):"eip7702"===n?function(e,t){let{authorizationList:n,chainId:r,gas:o,nonce:a,to:s,value:i,maxFeePerGas:c,maxPriorityFeePerGas:l,accessList:h,data:f}=e;!function(e){let{authorizationList:t}=e;if(t)for(let e of t){let{contractAddress:t,chainId:n}=e;if(!(0,k.U)(t))throw new P.b({address:t});if(n<=0)throw new G({chainId:n})}S(e)}(e);let d=H(h),p=function(e){if(!e||0===e.length)return[];let t=[];for(let n of e){let{contractAddress:e,chainId:r,nonce:o,...a}=n;t.push([(0,u.NC)(r),e,[o?(0,u.NC)(o):"0x"],...A({},a)])}return t}(n);return(0,y.SM)(["0x04",(0,N.LV)([(0,u.NC)(r),a?(0,u.NC)(a):"0x",l?(0,u.NC)(l):"0x",c?(0,u.NC)(c):"0x",o?(0,u.NC)(o):"0x",s??"0x",i?(0,u.NC)(i):"0x",f??"0x",d,p,...A(e,t)])])}(e,t):function(e,t){let{chainId:n=0,gas:r,data:o,nonce:i,to:c,value:l,gasPrice:h}=e;!function(e){let{chainId:t,maxPriorityFeePerGas:n,gasPrice:r,maxFeePerGas:o,to:s}=e;if(s&&!(0,k.U)(s))throw new P.b({address:s});if(void 0!==t&&t<=0)throw new G({chainId:t});if(n||o)throw new a.G("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(r&&r>2n**256n-1n)throw new E({maxFeePerGas:r})}(e);let f=[i?(0,u.NC)(i):"0x",h?(0,u.NC)(h):"0x",r?(0,u.NC)(r):"0x",c??"0x",l?(0,u.NC)(l):"0x",o??"0x"];if(t){let e=(()=>{if(t.v>=35n)return(t.v-35n)/2n>0?t.v:27n+(35n===t.v?0n:1n);if(n>0)return BigInt(2*n)+BigInt(35n+t.v-27n);let e=27n+(27n===t.v?0n:1n);if(t.v!==e)throw new s({v:t.v});return e})(),r=(0,C.f)(t.r),o=(0,C.f)(t.s);f=[...f,(0,u.NC)(e),"0x00"===r?"0x":r,"0x00"===o?"0x":o]}else n>0&&(f=[...f,(0,u.NC)(n),"0x","0x"]);return(0,N.LV)(f)}(e,t)}({...c,type:"eip1559"});return(0,R.readContract)({contract:r,method:"function getL1Fee(bytes memory _data) view returns (uint256)",params:[$]})}},7529:function(e,t,n){n.d(t,{LV:function(){return i}});var r=n(36117),o=n(11221),a=n(11187),s=n(92106);function i(e,t="hex"){let n=function e(t){return Array.isArray(t)?function(e){let t=e.reduce((e,t)=>e+t.length,0),n=c(t);return{length:t<=55?1+t:1+n+t,encode(r){for(let{encode:o}of(t<=55?r.pushByte(192+t):(r.pushByte(247+n),1===n?r.pushUint8(t):2===n?r.pushUint16(t):3===n?r.pushUint24(t):r.pushUint32(t)),e))o(r)}}}(t.map(t=>e(t))):function(e){let t="string"==typeof e?(0,a.nr)(e):e,n=c(t.length);return{length:1===t.length&&t[0]<128?1:t.length<=55?1+t.length:1+n+t.length,encode(e){1===t.length&&t[0]<128||(t.length<=55?e.pushByte(128+t.length):(e.pushByte(183+n),1===n?e.pushUint8(t.length):2===n?e.pushUint16(t.length):3===n?e.pushUint24(t.length):e.pushUint32(t.length))),e.pushBytes(t)}}}(t)}(e),r=(0,o.q)(new Uint8Array(n.length));return(n.encode(r),"hex"===t)?(0,s.ci)(r.bytes):r.bytes}function c(e){if(e<256)return 1;if(e<65536)return 2;if(e<16777216)return 3;if(e<4294967296)return 4;throw new r.G("Length is too large.")}}}]);